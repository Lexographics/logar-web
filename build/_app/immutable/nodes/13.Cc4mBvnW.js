import"../chunks/CWj6FrbW.js";import{N as C,p as se,a4 as u,y as re,o as D,a7 as F,g as o,a as ae,a5 as m,a6 as i,z as n,a8 as l}from"../chunks/vtVjXRxL.js";import{e as oe,s as f}from"../chunks/DtjsYg9O.js";import{t as ie,e as ne,r as k,u as le,S as de,b as B}from"../chunks/Dd9GAp8b.js";import{f as J,a as N}from"../chunks/BKrJ63KQ.js";import{b as O}from"../chunks/B1SoyIIh.js";import{s as ce,a as ue}from"../chunks/DOdqnhqz.js";import{g as U}from"../chunks/rVbhTHxI.js";import{u as j,g as G}from"../chunks/BP3o4HH5.js";import{L as ve}from"../chunks/CIVvI00M.js";function me(d,p,P,h){var v=d.__style;if(C||v!==p){var c=ie(p);(!C||c!==d.getAttribute("style"))&&(c==null?d.removeAttribute("style"):d.style.cssText=c),d.__style=p}return h}var pe=J('<div class="star svelte-3rcooa"></div>'),fe=J('<div class="auth-container svelte-3rcooa"><!> <div class="auth-card svelte-3rcooa"><h1 class="svelte-3rcooa"> </h1> <form><div class="form-group svelte-3rcooa"><label for="username" class="svelte-3rcooa"> </label> <input type="text" id="username" required class="svelte-3rcooa"/></div> <div class="form-group svelte-3rcooa"><label for="password" class="svelte-3rcooa"> </label> <input type="password" id="password" required class="svelte-3rcooa"/></div> <button type="submit" class="submit-button svelte-3rcooa"> </button></form></div></div>');function Pe(d,p){se(p,!0);const[P,h]=ce(),v=()=>ue(ve,"$LL",P);let c=u(""),w=u("");async function K(e){var s,r;e.preventDefault();const[a,t]=await le.login(o(c),o(w));t?((r=(s=t.response)==null?void 0:s.data)==null?void 0:r.status_code)===de.InvalidCredentials?B("Invalid username or password"):B(t.message):(j.current=a,U(`${G()}/dashboard`))}let I=u(0),z=u(0),g=u(0),_=u(0),E=u(re([]));const X=500;D(()=>{var e;(e=j.current)!=null&&e.token&&U(`${G()}/dashboard`)}),D(()=>{n(g,window.innerWidth,!0),n(_,window.innerHeight,!0);const e=100,a=[];for(let r=0;r<e;r++)a.push({id:r,topPercent:Math.random()*100,leftPercent:Math.random()*100,width:Math.random()*2+1,height:Math.random()*2+1});n(E,a,!0);const t=r=>{n(I,r.clientX,!0),n(z,r.clientY,!0)},s=()=>{n(g,window.innerWidth,!0),n(_,window.innerHeight,!0)};return window.addEventListener("mousemove",t),window.addEventListener("resize",s),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("resize",s)}});function Q(e){const a=e.leftPercent/100*o(g),t=e.topPercent/100*o(_),s=a-o(I),r=t-o(z),T=Math.sqrt(s*s+r*r);let W=1;return T<X&&(W=1+(1-T/X)*1.5),`
      top: ${e.topPercent}%;
      left: ${e.leftPercent}%;
      width: ${e.width}px;
      height: ${e.height}px;
      transform: scale(${W});
    `}var b=fe(),Y=i(b);ne(Y,17,()=>o(E),e=>e.id,(e,a)=>{var t=pe();F(s=>me(t,s),[()=>Q(o(a))]),N(e,t)});var q=m(Y,2),y=i(q),V=i(y,!0);l(y);var $=m(y,2),x=i($),L=i(x),Z=i(L,!0);l(L);var A=m(L,2);k(A),l(x);var S=m(x,2),M=i(S),ee=i(M,!0);l(M);var H=m(M,2);k(H),l(S);var R=m(S,2),te=i(R,!0);l(R),l($),l(q),l(b),F((e,a,t,s)=>{f(V,e),f(Z,a),f(ee,t),f(te,s)},[()=>v().login.title(),()=>v().login.username(),()=>v().login.password(),()=>v().login.login()]),oe("submit",$,K),O(A,()=>o(c),e=>n(c,e)),O(H,()=>o(w),e=>n(w,e)),N(d,b),ae(),h()}export{Pe as component};
