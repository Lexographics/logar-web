import"./CWj6FrbW.js";import{K as me,p as ee,a3 as i,a2 as o,a5 as r,I as be,a4 as N,a as te,f as ne,a1 as j,o as he,x as T,g as t,a6 as pe,ad as _,aR as Fe,w as Pe}from"./Ddypn_Vl.js";import{t as L,a as b,c as qe}from"./BVINg2-B.js";import{i as I}from"./DFXQ8BUi.js";import{s as re}from"./BYD9lk56.js";import{p as J}from"./CRh1fc7F.js";import{d as ie,s as P,e as Ie}from"./BrL2UJ6-.js";import{a as Oe,s as Q,b as Re,e as Ge,i as He,u as Ke,c as Ue,g as Ve}from"./BHZMxQwG.js";import{a as Z,s as oe}from"./Ce7vjTte.js";import{g as A,n as k,u as Y,m as B,a as je}from"./MmAr2Ipg.js";import{s as Je,g as xe}from"./DodE48jg.js";import{L as we}from"./BjWez0Tu.js";function W(s,e,h,q,l,c){var y=s.__className;if(me||y!==h||y===void 0){var u=Oe(h,q,c);(!me||u!==s.getAttribute("class"))&&(u==null?s.removeAttribute("class"):s.className=u),s.__className=h}else if(c&&l!==c)for(var a in c){var n=!!c[a];(l==null||n!==!!l[a])&&s.classList.toggle(a,n)}return c}const Qe=()=>{const s=Je;return{page:{subscribe:s.page.subscribe},navigating:{subscribe:s.navigating.subscribe},updated:s.updated}},ke={subscribe(s){return Qe().page.subscribe(s)}};var Xe=L('<span class="tooltip svelte-lg9wft"> </span>'),Ye=L('<li class="svelte-lg9wft"><a><i></i> <span class="text svelte-lg9wft"> </span> <!> <!></a> <!></li>');function z(s,e){ee(e,!0);const[h,q]=oe(),l=()=>Z(ke,"$page",h);let c=J(e,"tooltip",3,""),y=J(e,"submenu",3,!1),u=J(e,"active",3,null);var a=Ye(),n=i(a);Q(n,"draggable",!1);let g;n.__click=function(...d){var f;(f=e.onclick)==null||f.apply(this,d)};var x=i(n),m=o(x,2),$=i(m,!0);r(m);var S=o(m,2);{var O=d=>{var f=Xe(),w=i(f,!0);r(f),N(()=>P(w,c())),b(d,f)};I(S,d=>{c()&&d(O)})}var C=o(S,2);{var E=d=>{var f=qe(),w=ne(f);re(w,()=>e.end),b(d,f)};I(C,d=>{e.end&&d(E)})}r(n);var D=o(n,2);re(D,()=>e.children??be),r(a),N((d,f)=>{g=W(n,1,`link ${(y()?"submenu-item":"")??""}`,"svelte-lg9wft",g,d),Q(n,"href",f),W(x,1,Re(e.icon),"svelte-lg9wft"),P($,e.text)},[()=>({active:u()===null?l().url.pathname.startsWith(`${A()}${e.href}`):u()}),()=>e.href?`${A()}${e.href}`:null]),b(s,a),te(),q()}ie(["click"]);var Ze=(s,e)=>s.key==="Enter"&&e(),et=L('<div class="backdrop svelte-qezm7q" tabindex="0" role="button" aria-label="Close menu"></div>'),tt=(s,e)=>s.key==="Enter"&&e(),at=L('<button class="mobile-menu-button svelte-qezm7q" aria-label="Toggle menu"><i class="fas fa-bars svelte-qezm7q"></i></button>'),st=L('<button aria-label="Toggle sidebar" class="toggle-button svelte-qezm7q"><i></i></button>'),rt=L("<i></i>"),nt=L('<p style="color: var(--sidebar-text); text-align: center; font-size: 0.8rem; padding: 10px;" class="svelte-qezm7q">No models found</p>'),it=L("<ul></ul>"),ot=L('<!> <div class="sidebar-container svelte-qezm7q"><!> <div><div class="sidebar-header svelte-qezm7q"><h2 class="svelte-qezm7q"><a class="linktext svelte-qezm7q" style="display: flex; align-items: center;"><img alt="Logar" style="width: 2rem; height: 2rem; margin-right: 8px;" class="svelte-qezm7q"> <span class="text svelte-qezm7q">Logar</span></a></h2> <!></div> <nav class="svelte-qezm7q"><ul class="svelte-qezm7q"><!> <!> <!> <!> <!> <!> <!> <!> <!></ul></nav> <div class="sidebar-footer svelte-qezm7q"><p class="svelte-qezm7q"><span class="text svelte-qezm7q">Â© 2025 Logar</span></p></div></div></div>',1);function lt(s,e){ee(e,!0);const[h,q]=oe(),l=()=>Z(we,"$LL",h),c=()=>Z(ke,"$page",h);let y=J(e,"models",19,()=>[]),u=j(!1),a=j(!1),n=j(!1);function g(){t(a)?T(n,!t(n)):k.current.isSidebarLocked=!k.current.isSidebarLocked}function x(){k.current.isLogsExpanded=!k.current.isLogsExpanded}function m(){T(a,window.innerWidth<=768),t(a)&&(k.current.isSidebarLocked=!1),T(n,!1)}he(()=>(k.current.isSidebarLocked==null&&(k.current.isSidebarLocked=window.innerWidth>768),m(),window.addEventListener("resize",m),setTimeout(()=>{T(u,!0)},0),()=>{window.removeEventListener("resize",m)}));var $=ot(),S=ne($);{var O=p=>{var v=et();v.__click=g,v.__keydown=[Ze,g],b(p,v)};I(S,p=>{t(a)&&t(n)&&p(O)})}var C=o(S,2),E=i(C);{var D=p=>{var v=at();v.__click=g,v.__keydown=[tt,g],b(p,v)};I(E,p=>{t(a)&&!t(n)&&p(D)})}var d=o(E,2),f=i(d),w=i(f),R=i(w),G=i(R);pe(2),r(R),r(w);var F=o(w,2);{var ae=p=>{var v=st();v.__click=g;var V=i(v);r(v),N(()=>W(V,1,`fas ${(k.current.isSidebarLocked?"fa-lock":"fa-unlock")??""}`,"svelte-qezm7q")),b(p,v)};I(F,p=>{t(a)||p(ae)})}r(f);var H=o(f,2),K=i(H),U=i(K);const Le=_(()=>l().dashboard.title());z(U,{href:"/dashboard",icon:"fas fa-home",get text(){return t(Le)}});var le=o(U,2);const ye=_(()=>l().logs.title()),ze=_(()=>c().url.pathname.startsWith(`${A()}/logs`));z(le,{icon:"fas fa-list-alt",get text(){return t(ye)},onclick:x,get active(){return t(ze)},end:v=>{var V=rt();N(()=>W(V,1,`fas ${(k.current.isLogsExpanded?"fa-chevron-down":"fa-chevron-right")??""} chevron`,"svelte-qezm7q")),b(v,V)},children:(v,V)=>{var X=it();Ge(X,21,y,He,(se,M)=>{const Ne=_(()=>`/logs?model=${t(M).identifier}`),We=_(()=>t(M).icon?t(M).icon:"fa-solid fa-cube"),Ce=_(()=>t(M).displayName||t(M).identifier),De=_(()=>c().url.pathname.startsWith(`${A()}/logs`)&&c().url.searchParams.get("model")===t(M).identifier);z(se,{get href(){return t(Ne)},get icon(){return t(We)},get text(){return t(Ce)},get active(){return t(De)}})},se=>{var M=nt();b(se,M)}),r(X),N(()=>W(X,1,`scrollbar submenu ${(k.current.isLogsExpanded?"expanded":"")??""}`,"svelte-qezm7q")),b(v,X)},$$slots:{end:!0,default:!0}});var ce=o(le,2);const $e=_(()=>l().analytics.title());z(ce,{href:"/analytics",icon:"fas fa-chart-bar",get text(){return t($e)}});var de=o(ce,2);const Se=_(()=>l().remote_actions.title());z(de,{href:"/actions",icon:"fa-solid fa-server",get text(){return t(Se)}});var ve=o(de,2);const Ee=_(()=>l().featureflags.title());z(ve,{href:"/featureflags",icon:"fa-solid fa-flag",get text(){return t(Ee)}});var ue=o(ve,2);z(ue,{href:"/globals",icon:"fa-solid fa-earth-asia",text:"Globals"});var fe=o(ue,2);const Me=_(()=>l().user_sessions.title());z(fe,{href:"/user",icon:"fa-solid fa-users",get text(){return t(Me)}});var ge=o(fe,2);const Te=_(()=>l().settings.title());z(ge,{href:"/settings",icon:"fas fa-cog",get text(){return t(Te)}});var Ae=o(ge,2);const Be=_(()=>l().help.title());z(Ae,{href:"/help",icon:"fas fa-question-circle",get text(){return t(Be)}}),r(K),r(H),pe(2),r(d),r(C),N((p,v)=>{W(d,1,`sidebar ${(t(a)?t(n)?"locked":"":k.current.isSidebarLocked||!t(u)?"locked":"")??""} ${(t(a)?"mobile":"")??""} ${(t(n)?"open":"")??""}`,"svelte-qezm7q"),Q(R,"href",p),Q(G,"src",v)},[()=>`${A()}/`,()=>`${A()}/favicon.png`]),b(s,$),te(),q()}ie(["click","keydown"]);function ct(s,e){T(e,!t(e))}var dt=()=>{xe(`${A()}/settings#profile`)},vt=L('<nav class="topbar svelte-wpqqdm"><div class="profile-section svelte-wpqqdm"><button class="profile-button svelte-wpqqdm"><div style="display: flex; flex-direction: column; align-items: end;"><span class="username svelte-wpqqdm"> </span> <span class="username svelte-wpqqdm" style="font-size: 0.75rem;"> </span></div> <img alt="avatar" class="avatar svelte-wpqqdm"></button> <div><button class="dropdown-item svelte-wpqqdm"> </button> <button class="dropdown-item svelte-wpqqdm"> </button></div></div></nav>');function ut(s,e){ee(e,!0);const[h,q]=oe(),l=()=>Z(we,"$LL",h);let c=j(!1);async function y(){await Ke.logout(),Y.current={token:null},xe(`${A()}/login`)}function u(G){var F;t(c)&&!((F=G.target)!=null&&F.closest(".profile-section"))&&T(c,!1)}var a=vt();Ie("click",Fe,u);var n=i(a),g=i(n);g.__click=[ct,c];var x=i(g),m=i(x),$=i(m,!0);r(m);var S=o(m,2),O=i(S);r(S),r(x);var C=o(x,2);r(g);var E=o(g,2);let D;var d=i(E);d.__click=[dt];var f=i(d,!0);r(d);var w=o(d,2);w.__click=y;var R=i(w,!0);r(w),r(E),r(n),r(a),N((G,F,ae)=>{var H,K,U;P($,(H=Y.current.user)==null?void 0:H.display_name),P(O,`@${((K=Y.current.user)==null?void 0:K.username)??""}`),Q(C,"src","https://api.dicebear.com/9.x/thumbs/svg?seed="+((U=Y.current.user)==null?void 0:U.username)),D=W(E,1,"dropdown-menu svelte-wpqqdm",null,D,G),P(f,F),P(R,ae)},[()=>({active:t(c)}),()=>l().topbar.my_account(),()=>l().topbar.sign_out()]),b(s,a),te(),q()}ie(["click"]);class ft{constructor(){this.axios=Ue()}async getModels(){if(B.current.models.length>0&&B.current.lastFetch&&new Date().getTime()-B.current.lastFetch<15e3)return[B.current.models,null];try{const e=await this.axios.get(`${je()}/models`,{headers:{...Ve()}});return B.current.models=e.data.data,B.current.lastFetch=new Date().getTime(),[e.data.data,null]}catch(e){return[null,e]}}getCachedModels(){return B.current.models}}const _e=new ft;var gt=L('<div class="base-container svelte-qy3bp8"><!> <div class="main-content svelte-qy3bp8"><!> <div class="content-area scrollbar svelte-qy3bp8"><!></div></div></div>');function $t(s,e){ee(e,!0);let h=J(e,"loaded",3,!0),q=j(Pe([]));he(async()=>{T(q,_e.getCachedModels(),!0);const[u,a]=await _e.getModels();a&&console.error(a),T(q,u,!0)});var l=qe(),c=ne(l);{var y=u=>{var a=gt(),n=i(a);lt(n,{get models(){return t(q)}});var g=o(n,2),x=i(g);ut(x,{});var m=o(x,2),$=i(m);re($,()=>e.children??be),r(m),r(g),r(a),b(u,a)};I(c,u=>{h()&&u(y)})}b(s,l),te()}export{$t as B,ke as p,W as s};
