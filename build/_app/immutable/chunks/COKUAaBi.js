import"./CWj6FrbW.js";import{N as be,p as ee,a6 as o,a5 as i,a8 as s,K as me,a7 as B,a as te,f as ne,o as he,z,a4 as j,g as t,a9 as pe,ag as _,aT as Fe,y as Pe}from"./vtVjXRxL.js";import{f as y,a as m,c as xe}from"./BKrJ63KQ.js";import{i as O}from"./CXzoa0Vj.js";import{s as se}from"./VZOsGKAD.js";import{p as J}from"./kSd3V6n8.js";import{d as oe,s as P,e as Oe}from"./DtjsYg9O.js";import{b as Ge,s as Q,d as He,e as Ie,i as Ke,u as Re,c as Ue,g as Ve}from"./CgYbRSvx.js";import{a as Z,s as ie}from"./DOdqnhqz.js";import{g as N,n as L,u as Y,m as A,a as je}from"./BP3o4HH5.js";import{s as Je,g as we}from"./DbHhFev3.js";import{L as ke}from"./CIVvI00M.js";function W(r,e,h,x,l,c){var q=r.__className;if(be||q!==h||q===void 0){var u=Ge(h,x,c);(!be||u!==r.getAttribute("class"))&&(u==null?r.removeAttribute("class"):r.className=u),r.__className=h}else if(c&&l!==c)for(var a in c){var n=!!c[a];(l==null||n!==!!l[a])&&r.classList.toggle(a,n)}return c}const Qe=()=>{const r=Je;return{page:{subscribe:r.page.subscribe},navigating:{subscribe:r.navigating.subscribe},updated:r.updated}},Le={subscribe(r){return Qe().page.subscribe(r)}};var Xe=y('<span class="tooltip svelte-lg9wft"> </span>'),Ye=y('<li class="svelte-lg9wft"><a><i></i> <span class="text svelte-lg9wft"> </span> <!> <!></a> <!></li>');function $(r,e){ee(e,!0);const[h,x]=ie(),l=()=>Z(Le,"$page",h);let c=J(e,"tooltip",3,""),q=J(e,"submenu",3,!1),u=J(e,"active",3,null);var a=Ye(),n=o(a);Q(n,"draggable",!1);let f;n.__click=function(...v){var g;(g=e.onclick)==null||g.apply(this,v)};var w=o(n),b=i(w,2),S=o(b,!0);s(b);var E=i(b,2);{var G=v=>{var g=Xe(),k=o(g,!0);s(g),B(()=>P(k,c())),m(v,g)};O(E,v=>{c()&&v(G)})}var C=i(E,2);{var M=v=>{var g=xe(),k=ne(g);se(k,()=>e.end),m(v,g)};O(C,v=>{e.end&&v(M)})}s(n);var D=i(n,2);se(D,()=>e.children??me),s(a),B((v,g)=>{f=W(n,1,`link ${q()?"submenu-item":""}`,"svelte-lg9wft",f,v),Q(n,"href",g),W(w,1,He(e.icon),"svelte-lg9wft"),P(S,e.text)},[()=>({active:u()===null?l().url.pathname.startsWith(`${N()}${e.href}`):u()}),()=>e.href?`${N()}${e.href}`:null]),m(r,a),te(),x()}oe(["click"]);var Ze=(r,e)=>r.key==="Enter"&&e(),et=y('<div class="backdrop svelte-1rgveq2" tabindex="0" role="button" aria-label="Close menu"></div>'),tt=(r,e)=>r.key==="Enter"&&e(),at=y('<button class="mobile-menu-button svelte-1rgveq2" aria-label="Toggle menu"><i class="fas fa-bars svelte-1rgveq2"></i></button>'),rt=y('<button aria-label="Toggle sidebar" class="toggle-button svelte-1rgveq2"><i></i></button>'),st=y("<i></i>"),nt=y('<p style="color: var(--sidebar-text); text-align: center; font-size: 0.8rem; padding: 10px;" class="svelte-1rgveq2">No models found</p>'),ot=y("<ul></ul>"),it=y('<!> <div class="sidebar-container svelte-1rgveq2"><!> <div><div class="sidebar-header svelte-1rgveq2"><h2 class="svelte-1rgveq2"><a class="linktext svelte-1rgveq2" style="display: flex; align-items: center;"><img alt="Logar" style="width: 2rem; height: 2rem; margin-right: 8px;" class="svelte-1rgveq2"/> <span class="text svelte-1rgveq2">Logar</span></a></h2> <!></div> <nav class="svelte-1rgveq2"><ul class="svelte-1rgveq2"><!> <!> <!> <!> <!> <!> <!> <!> <!></ul></nav> <div class="sidebar-footer svelte-1rgveq2"><p class="svelte-1rgveq2"><span class="text svelte-1rgveq2">Â© 2025 Logar</span></p></div></div></div>',1);function lt(r,e){ee(e,!0);const[h,x]=ie(),l=()=>Z(ke,"$LL",h),c=()=>Z(Le,"$page",h);let q=J(e,"models",19,()=>[]),u=j(!1),a=j(!1),n=j(!1);function f(){t(a)?z(n,!t(n)):L.current.isSidebarLocked=!L.current.isSidebarLocked}function w(){L.current.isLogsExpanded=!L.current.isLogsExpanded}function b(){z(a,window.innerWidth<=768),t(a)&&(L.current.isSidebarLocked=!1),z(n,!1)}he(()=>(L.current.isSidebarLocked==null&&(L.current.isSidebarLocked=window.innerWidth>768),b(),window.addEventListener("resize",b),setTimeout(()=>{z(u,!0)},0),()=>{window.removeEventListener("resize",b)}));var S=it(),E=ne(S);{var G=p=>{var d=et();d.__click=f,d.__keydown=[Ze,f],m(p,d)};O(E,p=>{t(a)&&t(n)&&p(G)})}var C=i(E,2),M=o(C);{var D=p=>{var d=at();d.__click=f,d.__keydown=[tt,f],m(p,d)};O(M,p=>{t(a)&&!t(n)&&p(D)})}var v=i(M,2),g=o(v),k=o(g),H=o(k),I=o(H);pe(2),s(H),s(k);var F=i(k,2);{var ae=p=>{var d=rt();d.__click=f;var V=o(d);s(d),B(()=>W(V,1,`fas ${L.current.isSidebarLocked?"fa-lock":"fa-unlock"}`,"svelte-1rgveq2")),m(p,d)};O(F,p=>{t(a)||p(ae)})}s(g);var K=i(g,2),R=o(K),U=o(R);const ye=_(()=>l().dashboard.title());$(U,{href:"/dashboard",icon:"fas fa-home",get text(){return t(ye)}});var le=i(U,2);const qe=_(()=>l().logs.title()),$e=_(()=>c().url.pathname.startsWith(`${N()}/logs`));$(le,{icon:"fas fa-list-alt",get text(){return t(qe)},onclick:w,get active(){return t($e)},end:d=>{var V=st();B(()=>W(V,1,`fas ${L.current.isLogsExpanded?"fa-chevron-down":"fa-chevron-right"} chevron`,"svelte-1rgveq2")),m(d,V)},children:(d,V)=>{var X=ot();Ie(X,21,q,Ke,(re,T)=>{const Be=_(()=>`/logs?model=${t(T).identifier}`),We=_(()=>t(T).icon?t(T).icon:"fa-solid fa-cube"),Ce=_(()=>t(T).displayName||t(T).identifier),De=_(()=>c().url.pathname.startsWith(`${N()}/logs`)&&c().url.searchParams.get("model")===t(T).identifier);$(re,{get href(){return t(Be)},get icon(){return t(We)},get text(){return t(Ce)},get active(){return t(De)}})},re=>{var T=nt();m(re,T)}),s(X),B(()=>W(X,1,`scrollbar submenu ${L.current.isLogsExpanded?"expanded":""}`,"svelte-1rgveq2")),m(d,X)},$$slots:{end:!0,default:!0}});var ce=i(le,2);const Se=_(()=>l().analytics.title());$(ce,{href:"/analytics",icon:"fas fa-chart-bar",get text(){return t(Se)}});var ve=i(ce,2);const Ee=_(()=>l().remote_actions.title());$(ve,{href:"/actions",icon:"fa-solid fa-server",get text(){return t(Ee)}});var de=i(ve,2);const Me=_(()=>l().featureflags.title());$(de,{href:"/featureflags",icon:"fa-solid fa-flag",get text(){return t(Me)}});var ue=i(de,2);$(ue,{href:"/globals",icon:"fa-solid fa-earth-asia",text:"Globals"});var ge=i(ue,2);const Te=_(()=>l().user_sessions.title());$(ge,{href:"/user",icon:"fa-solid fa-users",get text(){return t(Te)}});var fe=i(ge,2);const ze=_(()=>l().settings.title());$(fe,{href:"/settings",icon:"fas fa-cog",get text(){return t(ze)}});var Ne=i(fe,2);const Ae=_(()=>l().help.title());$(Ne,{href:"/help",icon:"fas fa-question-circle",get text(){return t(Ae)}}),s(R),s(K),pe(2),s(v),s(C),B((p,d)=>{W(v,1,`sidebar ${t(a)?t(n)?"locked":"":L.current.isSidebarLocked||!t(u)?"locked":""} ${t(a)?"mobile":""} ${t(n)?"open":""}`,"svelte-1rgveq2"),Q(H,"href",p),Q(I,"src",d)},[()=>`${N()}/`,()=>`${N()}/favicon.png`]),m(r,S),te(),x()}oe(["click","keydown"]);function ct(r,e){z(e,!t(e))}var vt=()=>{we(`${N()}/settings#profile`)},dt=y('<nav class="topbar svelte-16wlu2b"><div class="profile-section svelte-16wlu2b"><button class="profile-button svelte-16wlu2b"><div style="display: flex; flex-direction: column; align-items: end;"><span class="username svelte-16wlu2b"> </span> <span class="username svelte-16wlu2b" style="font-size: 0.75rem;"> </span></div> <img alt="avatar" class="avatar svelte-16wlu2b"/></button> <div><button class="dropdown-item svelte-16wlu2b"> </button> <button class="dropdown-item svelte-16wlu2b"> </button></div></div></nav>');function ut(r,e){ee(e,!0);const[h,x]=ie(),l=()=>Z(ke,"$LL",h);let c=j(!1);async function q(){await Re.logout(),Y.current={token:null},we(`${N()}/login`)}function u(I){var F;t(c)&&!((F=I.target)!=null&&F.closest(".profile-section"))&&z(c,!1)}var a=dt();Oe("click",Fe,u);var n=o(a),f=o(n);f.__click=[ct,c];var w=o(f),b=o(w),S=o(b,!0);s(b);var E=i(b,2),G=o(E);s(E),s(w);var C=i(w,2);s(f);var M=i(f,2);let D;var v=o(M);v.__click=[vt];var g=o(v,!0);s(v);var k=i(v,2);k.__click=q;var H=o(k,!0);s(k),s(M),s(n),s(a),B((I,F,ae)=>{var K,R,U;P(S,(K=Y.current.user)==null?void 0:K.display_name),P(G,`@${((R=Y.current.user)==null?void 0:R.username)??""}`),Q(C,"src","https://api.dicebear.com/9.x/thumbs/svg?seed="+((U=Y.current.user)==null?void 0:U.username)),D=W(M,1,"dropdown-menu svelte-16wlu2b",null,D,I),P(g,F),P(H,ae)},[()=>({active:t(c)}),()=>l().topbar.my_account(),()=>l().topbar.sign_out()]),m(r,a),te(),x()}oe(["click"]);class gt{constructor(){this.axios=Ue()}async getModels(){if(A.current.models.length>0&&A.current.lastFetch&&new Date().getTime()-A.current.lastFetch<15e3)return[A.current.models,null];try{const e=await this.axios.get(`${je()}/models`,{headers:{...Ve()}});return A.current.models=e.data.data,A.current.lastFetch=new Date().getTime(),[e.data.data,null]}catch(e){return[null,e]}}getCachedModels(){return A.current.models}}const _e=new gt;var ft=y('<div class="base-container svelte-qy3bp8"><!> <div class="main-content svelte-qy3bp8"><!> <div class="content-area scrollbar svelte-qy3bp8"><!></div></div></div>');function St(r,e){ee(e,!0);let h=J(e,"loaded",3,!0),x=j(Pe([]));he(async()=>{z(x,_e.getCachedModels(),!0);const[u,a]=await _e.getModels();a&&console.error(a),z(x,u,!0)});var l=xe(),c=ne(l);{var q=u=>{var a=ft(),n=o(a);lt(n,{get models(){return t(x)}});var f=i(n,2),w=o(f);ut(w,{});var b=i(w,2),S=o(b);se(S,()=>e.children??me),s(b),s(f),s(a),m(u,a)};O(c,u=>{h()&&u(q)})}m(r,l),te()}export{St as B,Le as p,W as s};
