var v=s=>{throw TypeError(s)};var k=(s,e,n)=>e.has(s)||v("Cannot "+n);var t=(s,e,n)=>(k(s,e,"read from private field"),n?n.call(s):e.get(s)),u=(s,e,n)=>e.has(s)?v("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,n),f=(s,e,n,a)=>(k(s,e,"write to private field"),a?a.call(s,n):e.set(s,n),n);import{a4 as J,z as y,g as l,ah as N,u as O,ai as E}from"./vtVjXRxL.js";var o,i,c,g,r,d;class L{constructor(e,n,a){u(this,o);u(this,i,J(0));u(this,c,0);u(this,g);u(this,r);u(this,d,e=>{e.storageArea===t(this,r)&&e.key===t(this,o)&&y(t(this,i),l(t(this,i))+1)});f(this,o,e),f(this,g,n),f(this,r,a||(typeof localStorage<"u"?localStorage:void 0)),t(this,r)&&t(this,r).getItem(e)===null&&n!==void 0&&t(this,r).setItem(e,JSON.stringify(n))}get current(){l(t(this,i));const e=t(this,r)?JSON.parse(t(this,r).getItem(t(this,o))):t(this,g),n=new WeakMap,a=h=>{if(typeof h!="object"||h===null)return h;let p=n.get(h);return p||(p=new Proxy(h,{get:(m,w)=>(l(t(this,i)),a(Reflect.get(m,w))),set:(m,w,I)=>(y(t(this,i),l(t(this,i))+1),Reflect.set(m,w,I),t(this,r)&&t(this,r).setItem(t(this,o),JSON.stringify(e)),!0)}),n.set(h,p)),p};return N()&&O(()=>(t(this,c)===0&&typeof window<"u"&&window.addEventListener("storage",t(this,d)),f(this,c,t(this,c)+1),()=>{E().then(()=>{f(this,c,t(this,c)-1),t(this,c)===0&&typeof window<"u"&&window.removeEventListener("storage",t(this,d))})})),a(e)}set current(e){t(this,r)&&t(this,r).setItem(t(this,o),JSON.stringify(e)),y(t(this,i),l(t(this,i))+1)}}o=new WeakMap,i=new WeakMap,c=new WeakMap,g=new WeakMap,r=new WeakMap,d=new WeakMap;class S extends L{constructor(e,n){super(e,n,typeof localStorage<"u"?localStorage:void 0)}}class P extends L{constructor(e,n){super(e,n,typeof sessionStorage<"u"?sessionStorage:void 0)}}const R=new P("navigation",{isSidebarLocked:null,isLogsExpanded:!1}),W=new S("settings",{selectedLanguage:null,currentTheme:"system"}),_=new S("user",{user:null,token:null}),j=new S("models",{models:[],lastFetch:null}),x=new S("api-url","");function z(){if(x.current)return x.current;const s=b("api-url");return s||""}function B(){const s=b("base-path");return s||""}function b(s){const n=("; "+document.cookie).split("; "+s+"=");if(n.length==2)return n.pop().split(";").shift()}export{z as a,B as g,j as m,R as n,W as s,_ as u};
